"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
* iCrush v1.0.0-alpha
* (c) 2007-2020 心叶 git+https://github.com/yelloxing/iCrush.git
* License: MIT
*/!function(){function mount(t){t.directive=function(e,n){t.prototype.__directiveLib[e]=n},t.component=function(e,n){t.prototype.__componentLib[e]=n},t.filter=function(e,n){t.prototype.__filterLib[e]=n}}function use(t){t.use=function(e){e.install.call(e,t)}}function initGlobalAPI(t){t.prototype.__directiveLib={},t.prototype.__componentLib={},t.prototype.__filterLib={},mount(t),use(t)}var toString=Object.prototype.toString;function getType(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":toString.call(t)}function isObject(t){var e=_typeof(t);return null!=t&&("object"===e||"function"===e)}function isFunction(t){if(!isObject(t))return!1;var e=getType(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object Proxy]"===e}function isString(t){var e=_typeof(t);return"string"===e||"object"===e&&null!=t&&!Array.isArray(t)&&"[object String]"===getType(t)}function isPlainObject(t){if(null===t||"object"!==_typeof(t)||"[object Object]"!=getType(t))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function isElement(t){return null!==t&&"object"===_typeof(t)&&(1===t.nodeType||9===t.nodeType||11===t.nodeType)&&!isPlainObject(t)}function outHTML(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function toNode(t){if(isElement(t))return t;var e=document.createElement("div");return e.innerHTML=t.replace(/[\n\f\r]/g,"").trim(),e.firstElementChild}function isValidKey(t){/^[_$]/.test(t)&&console.error("[iCrush warn]: The beginning of _ or $ is not allowed："+t)}function compilerText(target,text){var getText=function getText(str){return eval(str)};return getText.call(target,text)}function tagToComponent(t){for(var e=(t+"").toLowerCase(),n=(t+"").toUpperCase(),o="",i=!1,r=0;r<t.length;r++)"-"!=t[r]?i?(o+=n[r],i=!1):o+=e[r]:i=!0;return o}var uid=1;function initMixin(t){t.prototype.$$init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in this._options=t,this._uid=uid++,this._data=isFunction(t.data)?t.data():t.data,this._el=isString(t.el)?document.querySelector(t.el):t.el,this.__isMounted=!1,this.__isDestroyed=!1,t.methods)isValidKey(e),this[e]=t.methods[e]}}function eventsMixin(t){t.prototype.$$bindEvent=function(t,e,n){}}function lifecycleMixin(t){t.prototype.$$lifecycle=function(t){isFunction(t)?t():["created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed"].indexOf(t)>-1&&isFunction(this._options[t])&&this._options[t].call(this)}}function createElement(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o={},i=[];if(!isString(t))return{type:"component",component:t,attrs:{},children:[]};for(var r in e)/^@/.test(r)?o[r.replace(/^@/,"v-on:")]=e[r]:/^:/.test(r)?o["v-bind"+r]=e[r]:o[r]=e[r];for(var c,u=0;u<n.length;u++)isString(c=n[u])?/\{\{[^}]+\}\}/.test(c)?i.push({type:"bindText",content:('" '+c+' "').replace(/\{\{([^}]+)\}\}/g,'"+this.$1+"')}):i.push({type:"text",content:c}):i.push(c);return{type:"none",tagName:t,attrs:o,children:i}}function isSymbol(t){var e=_typeof(t);return"symbol"===e||"object"===e&&null!==t&&"[object Symbol]"===getType(t)}function isKey(t,e){if(Array.isArray(t))return!1;var n=_typeof(t);return!("number"!=n&&"boolean"!=n&&null!=t&&!isSymbol(t))||(null!==e&&t in Object(e)||/^\w*$/.test(t))}function stringToPath(t){return t.replace(/\[/g,".").replace(/\]/g,"").replace(/"/g,"").replace(/'/g,"").split(".")}function castPath(t,e){return Array.isArray(t)?t:isKey(t,e)?[t]:stringToPath(t)}var INFINITY=1/0;function toKey(t){if("string"==typeof t||isSymbol(t))return t;var e="".concat(t);return"0"===e&&1/t==-INFINITY?"-0":e}function baseGet(t,e){e=castPath(e,t);for(var n=0;n<e.length&&null!==t;n++)t=t[toKey(e[n])];return n&&n===e.length?t:void 0}function get(t,e,n){var o=null==t?void 0:baseGet(t,e);return void 0===o?n:o}function mountDom(t,e,n,o){var i,r=get(t,e);if(r){if("none"==r.type){var c=tagToComponent(r.tagName);t.__componentLib[c]?(r.component=t.__componentLib[c],r.type="component"):r.type="tag"}if("component"==r.type)i=document.createElement("i-crush-component"),n.appendChild(i),r.component.el=i,r.instance=new o(r.component),r.instance.__parent=t;else if("tag"==r.type){i=document.createElement(r.tagName),"I-CRUSH-COMPONENT"==n.nodeName||n.appendChild(i);for(var u=0;u<r.children.length;u++)mountDom(t,e+".children["+u+"]",i,o)}else(r.type="text")?(i=document.createTextNode(r.content),n.appendChild(i)):(r.type="bindText")?(i=document.createTextNode(compilerText(t,r.content)),n.appendChild(i)):console.error("[iCrush warn]: Type not expected："+r.type)}else console.error("[iCrush warn]: vnode is undefined!")}function watcher(t){var e=function(e){isValidKey(e),isFunction(t[e])&&console.error('[iCrush warn]: Data property "'+e+'" has already been defined as a Method.');var n=t._data[e];t[e]=n,Object.defineProperty(t,e,{get:function(){return n},set:function(e){n=e,t.$$updateComponent()}})};for(var n in t._data)e(n)}function isText(t){return null!==t&&"object"===_typeof(t)&&3===t.nodeType&&!isPlainObject(t)}function renderMixin(t){t.prototype.$$mountComponent=function(){this.$$lifecycle("beforeMount"),this._vnode=this.$$render(createElement),this.__directiveTask={},this.__componentTask={},this.__filterTask={},mountDom(this,"_vnode",this._el,t),watcher(this),this.__isMounted=!0,this.$$lifecycle("mounted")},t.prototype.$$updateComponent=function(){this.$$lifecycle("beforeUpdate"),this.$$lifecycle("updated")},t.prototype.$$destroyComponent=function(){this.$$lifecycle("beforeDestroy"),this.$$lifecycle("destroyed")}}function createRenderFactroy(t){return function(e){return function t(e,n){for(var o=e.childNodes,i=[],r=0;r<o.length;r++)isText(o[r])?/^[\x20\t]+$/.test(o[r].textContent)||i.push(o[r].textContent):isElement(o[r])&&i.push(t(o[r],n));for(var c={},u=0;u<e.attributes.length;u++)c[e.attributes[u].nodeName]=e.attributes[u].nodeValue;return n(e.tagName,c,i)}(toNode(t),e)}}function iCrush(t){this instanceof iCrush||console.error("[iCrush warn]: iCrush is a constructor and should be called with the `new` keyword"),this.$$lifecycle(t.beforeCreate),this.$$init(t),this.$$lifecycle("created"),isElement(this._el)&&this.$$mount()}initMixin(iCrush),eventsMixin(iCrush),lifecycleMixin(iCrush),renderMixin(iCrush);var iBind={},iOn={},iModel={},component={},number={};initGlobalAPI(iCrush),iCrush.directive("bind",iBind),iCrush.directive("on",iOn),iCrush.directive("model",iModel),iCrush.component("component",component),iCrush.filter("number",number),iCrush.prototype.$$mount=function(){if(isFunction(this._options.render))this.$$render=this._options.render;else{var t=this.template;t&&isString(t)||(t=outHTML(this._el)),this.$$render=createRenderFactroy(t)}this.$$mountComponent()},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=iCrush:window.iCrush=iCrush}();