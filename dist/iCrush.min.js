"use strict";function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _typeof2(t){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
* iCrush v1.0.0-alpha
* (c) 2007-2020 心叶 git+https://github.com/yelloxing/iCrush.git
* License: MIT
*/!function(){function mount(t){t.directive=function(e,n){t.prototype.__directiveLib[e]=n},t.component=function(e,n){t.prototype.__componentLib[e]=n},t.filter=function(e,n){t.prototype.__filterLib[e]=n}}function use(t){t.use=function(e){e.install.call(e,t)}}function initGlobalAPI(t){t.prototype.__directiveLib={},t.prototype.__componentLib={},t.prototype.__filterLib={},mount(t),use(t)}var toString=Object.prototype.toString;function getType(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":toString.call(t)}function isObject(t){var e=_typeof2(t);return null!=t&&("object"===e||"function"===e)}function isFunction(t){if(!isObject(t))return!1;var e=getType(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object Proxy]"===e}function isString(t){var e=_typeof2(t);return"string"===e||"object"===e&&null!=t&&!Array.isArray(t)&&"[object String]"===getType(t)}function isPlainObject(t){if(null===t||"object"!==_typeof2(t)||"[object Object]"!=getType(t))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function isElement(t){return null!==t&&"object"===_typeof2(t)&&(1===t.nodeType||9===t.nodeType||11===t.nodeType)&&!isPlainObject(t)}function outHTML(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function toNode(t){if(isElement(t))return t;var e=document.createElement("div");return e.innerHTML=t.replace(/[\n\f\r]/g,"").trim(),e.firstElementChild}function isValidKey(t){/^[_$]/.test(t)&&console.error("[iCrush warn]: The beginning of _ or $ is not allowed："+t)}function compilerText(target,text){var getText=function getText(str){return eval(str)};return getText.call(target,text)}function templateToName(t){for(var e=(t+"").toLowerCase(),n=(t+"").toUpperCase(),r="",i=!1,o=0;o<t.length;o++)"-"!=t[o]?i?(r+=n[o],i=!1):r+=e[o]:i=!0;return r}function replaceDom(t,e){t.parentNode.replaceChild(e,t)}var uid=1;function initMixin(t){t.prototype.$$init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in this._options=t,this._uid=uid++,this._data=isFunction(t.data)?t.data():t.data,this._el=isString(t.el)?document.querySelector(t.el):t.el,this.__isMounted=!1,this.__isDestroyed=!1,t.methods)isValidKey(e),this[e]=t.methods[e];for(var n in this._data)this[n]=this._data[n]}}function eventsMixin(t){t.prototype.$$bindEvent=function(t,e,n){}}function lifecycleMixin(t){t.prototype.$$lifecycle=function(t){isFunction(t)?t():["created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed"].indexOf(t)>-1&&isFunction(this._options[t])&&this._options[t].call(this)}}function createElement(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={},i=[];if(!isString(t))return{type:"component",options:t,attrs:{},children:[]};for(var o in e)/^@/.test(o)?r[o.replace(/^@/,"i-on:")]=e[o]:/^:/.test(o)?r["i-bind"+o]=e[o]:r[o]=e[o];for(var u,c=0;c<n.length;c++)isString(u=n[c])?/\{\{[^}]+\}\}/.test(u)?i.push({type:"bindText",content:('" '+u+' "').replace(/\{\{([^}]+)\}\}/g,'"+this.$1+"')}):i.push({type:"text",content:u}):i.push(u);return{type:"none",tagName:t,attrs:r,children:i}}function isSymbol(t){var e=_typeof2(t);return"symbol"===e||"object"===e&&null!==t&&"[object Symbol]"===getType(t)}function isKey(t,e){if(Array.isArray(t))return!1;var n=_typeof2(t);return!("number"!=n&&"boolean"!=n&&null!=t&&!isSymbol(t))||(null!==e&&t in Object(e)||/^\w*$/.test(t))}function stringToPath(t){return t.replace(/\[/g,".").replace(/\]/g,"").replace(/"/g,"").replace(/'/g,"").split(".")}function castPath(t,e){return Array.isArray(t)?t:isKey(t,e)?[t]:stringToPath(t)}var INFINITY=1/0;function toKey(t){if("string"==typeof t||isSymbol(t))return t;var e="".concat(t);return"0"===e&&1/t==-INFINITY?"-0":e}function baseGet(t,e){e=castPath(e,t);for(var n=0;n<e.length&&null!==t;n++)t=t[toKey(e[n])];return n&&n===e.length?t:void 0}function get(t,e,n){var r=null==t?void 0:baseGet(t,e);return void 0===r?n:r}function mountDom(t,e,n,r){var i,o=get(t,e);if(o){if("none"==o.type){var u=templateToName(o.tagName);t.__componentLib[u]?(o.component=t.__componentLib[u],o.type="component"):o.type="tag"}if("component"==o.type)i=document.createElement("i-crush-component"),n.appendChild(i),o.options.el=i,o.instance=new r(o.options),o.instance.__parent=t;else if("tag"==o.type){for(var c in i=document.createElement(o.tagName),"I-CRUSH-COMPONENT"==n.nodeName||"I-CRUSH-COMPONENT"==n._nodeName?(replaceDom(n,i),t._el=i):n.appendChild(i),o.attrs){var s=o.attrs[c],l=(c+":").split(":"),a=t.__directiveLib[templateToName(l[0])];a?t.__directiveTask.push(_objectSpread({el:i},a,{value:s,type:l[1]})):i.setAttribute(c,s)}for(var f=0;f<o.children.length;f++)mountDom(t,e+".children["+f+"]",i,r)}else"text"==o.type?(i=document.createTextNode(o.content),n.appendChild(i)):"bindText"==o.type?(i=document.createTextNode(compilerText(t,o.content)),n.appendChild(i),t.__bindTextTask.push({el:i,content:o.content})):console.error("[iCrush warn]: Type not expected："+o.type)}else console.error("[iCrush warn]: vnode is undefined!")}function watcher(t){var e=function(e){isValidKey(e),isFunction(t[e])&&console.error('[iCrush warn]: Data property "'+e+'" has already been defined as a Method.');var n=t._data[e];t[e]=n,Object.defineProperty(t,e,{get:function(){return n},set:function(e){n=e,t.$$updateComponent()}})};for(var n in t._data)e(n)}function isText(t){return null!==t&&"object"===_typeof2(t)&&3===t.nodeType&&!isPlainObject(t)}function renderMixin(t){t.prototype.$$mountComponent=function(){this.$$lifecycle("beforeMount"),this._vnode=this.$$render(createElement),this.__directiveTask=[],this.__componentTask=[],this.__filterTask=[],this.__bindTextTask=[],mountDom(this,"_vnode",this._el,t);for(var e=0;e<this.__directiveTask.length;e++){var n=this.__directiveTask[e];isFunction(n.inserted)&&n.inserted(n.el,{target:this,exp:n.value,value:get(this,n.value),type:n.type})}watcher(this),this.__isMounted=!0,this.$$lifecycle("mounted")},t.prototype.$$updateComponent=function(){this.$$lifecycle("beforeUpdate");for(var t=0;t<this.__directiveTask.length;t++){var e=this.__directiveTask[t];isFunction(e.update)&&e.update(e.el,{target:this,exp:e.value,value:get(this,e.value),type:e.type})}for(var n=0;n<this.__bindTextTask.length;n++){var r=this.__bindTextTask[n],i=document.createTextNode(compilerText(this,r.content));replaceDom(r.el,i),this.__bindTextTask[n].el=i}this.$$lifecycle("updated")},t.prototype.$$destroyComponent=function(){this.$$lifecycle("beforeDestroy");for(var t=0;t<this.__directiveTask.length;t++){var e=this.__directiveTask[t];isFunction(e.delete)&&e.delete(e.el,{target:this,exp:e.value,value:get(this,e.value),type:e.type})}this.$$lifecycle("destroyed")}}function createRenderFactroy(t){return function(e){return function t(e,n){for(var r=e.childNodes,i=[],o=0;o<r.length;o++)isText(r[o])?/^[\x20\t]+$/.test(r[o].textContent)||i.push(r[o].textContent):isElement(r[o])&&i.push(t(r[o],n));for(var u={},c=0;c<e.attributes.length;c++)u[e.attributes[c].nodeName]=e.attributes[c].nodeValue;return n(e.tagName,u,i)}(toNode(t),e)}}function iCrush(t){this instanceof iCrush||console.error("[iCrush warn]: iCrush is a constructor and should be called with the `new` keyword"),this.$$lifecycle(t.beforeCreate),this.$$init(t),this.$$lifecycle("created"),isElement(this._el)&&this.$$mount()}initMixin(iCrush),eventsMixin(iCrush),lifecycleMixin(iCrush),renderMixin(iCrush);var update=function(t,e){console.log(t,e)},iBind={inserted:update,update:update};function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var xhtml_min=createCommonjsModule((function(t){function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function n(t,i,o){return(n=e()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o}).apply(null,arguments)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t){return(o="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}!function(){var e=Object.prototype.toString;function r(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":e.call(t)}function u(t){var e=o(t);return"string"===e||"object"===e&&null!=t&&!Array.isArray(t)&&"[object String]"===r(t)}var c=function t(e,n){for(var r=0;r<n.length;r++)(function(t){return null!=t&&"function"!=typeof t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)})(i=n[r])&&!u(i)?n[r].length>1?t(e,n[r]):1===n[r].length&&e.push(n[r][0]):e.push(n[r]);var i};function s(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n),t}function l(t){return null!==t&&"object"===o(t)&&(1===t.nodeType||9===t.nodeType||11===t.nodeType)&&!function(t){if(null===t||"object"!==o(t)||"[object Object]"!=r(t))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(t)}function a(t){var e=o(t);return null!=t&&("object"===e||"function"===e)}var f=function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new t.prototype.init(n)};f.prototype.init=function(t){t=s.apply(void 0,i(t)),this.length=0;for(var e=0;e<t.length;e++)l(t[e])&&(this[this.length]=t[e],this.length+=1);return this},f.prototype.extend=f.extend=function(){var t=arguments[0]||{},e=arguments[1]||{},n=arguments.length;for(var r in 1===n&&(e=t,t=this),a(t)||(t={}),e)try{t[r]=e[r]}catch(t){throw new Error("Illegal property value！")}return t},f.prototype.init.prototype=f.prototype;function p(t){if(l(t))return t;if(u(t))return function(t){var e=document.createElement("div");e.innerHTML=t;for(var n=e.childNodes,r=0;r<n.length;r++)if(l(n[r]))return n[r];return null}(t);throw new Error("Illegal template!")}function h(t){if(!a(t))return!1;var e=r(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object Proxy]"===e}var d=function(t,e){return t=" "+t+" ",e=" "+e.trim()+" ",t.indexOf(e)>-1},y=function(t,e){for(t=" "+t+" ",e=" "+e.trim()+" ";t.indexOf(e)>-1;)t=t.replace(e," ");return t.trim().replace(/ +/g," ")};function v(t,e){var n=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle;return"string"==typeof e?n.getPropertyValue(e):n}if(f.prototype.extend({append:function(t){return this.length>0&&this[0].appendChild(p(t)),this},prepend:function(t){return this.length>0&&this[0].insertBefore(p(t),this[0].childNodes[0]),this},after:function(t){return this.length>0&&this[0].parentNode.insertBefore(p(t),this[0].nextSibling),this},before:function(t){return this.length>0&&this[0].parentNode.insertBefore(p(t),this[0]),this},find:function(t,e){(h(t)||arguments.length<1)&&(e=t,t="*");var n=this[0].getElementsByTagName(t);if(!h(e))return this.new(n);for(var r=this.new(),i=0;i<n.length;i++)e(n[i])&&(r[r.length++]=n[i]);return r},parents:function(t,e){for(var n=[],r=this[0].parentNode;l(r)&&(h(t)&&!t(r)||n.push(r),!h(e)||!e(r));)r=r.parentNode;return this.new(n)},children:function(t){for(var e=this[0].childNodes,n=this.new(),r=0;r<e.length;r++)!l(e[r])||h(t)&&!t(e[r])||(n[n.length++]=e[r]);return n},eq:function(t){var e=this.new();return this.length>t&&(e[0]=this[t],e.length=1),e},remove:function(){for(var t=0;t<this.length;t++)this[t].parentNode.removeChild(this[t]);return this},attr:function(t,e){if(arguments.length<2)return this.length>0?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n++)this[n].setAttribute(t,e);return this},css:function(){if(arguments.length<=1&&(arguments.length<=0||"object"!==o(arguments[0]))){if(this.length<=0)return;return v(this[0],arguments[0])}for(var t=0;t<this.length;t++)if(1===arguments.length)for(var e in arguments[0])this[t].style[e]=arguments[0][e];else this[t].style[arguments[0]]=arguments[1];return this},hasClass:function(t){var e=this[0].getAttribute("class");return d(e,t)},addClass:function(t){var e=this[0].getAttribute("class");return d(e,t)||this[0].setAttribute("class",e+" "+t),this},removeClass:function(t){var e=this[0].getAttribute("class"),n=y(e,t);return this[0].setAttribute("class",n),this},toggerClass:function(t){var e=this[0].getAttribute("class");if(d(e,t)){var n=y(e,t);this[0].setAttribute("class",n)}else this[0].setAttribute("class",e+" "+t);return this},bind:function(t,e){if(window.attachEvent)for(var n=0;n<this.length;n++)this[n].attachEvent("on"+t,e);else for(var r=0;r<this.length;r++)this[r].addEventListener(t,e,!1);return this},unbind:function(t,e){if(window.detachEvent)for(var n=0;n<this.length;n++)this[n].detachEvent("on"+t,e);else for(var r=0;r<this.length;r++)this[r].removeEventListener(t,e,!1);return this},trigger:function(t){var e,n;if(document.createEventObject)for(n=document.createEventObject(),e=0;e<this.length;e++)this[e].fireEvent("on"+t,n);else for((n=document.createEvent("HTMLEvents")).initEvent(t,!0,!1),e=0;e<this.length;e++)this[e].dispatchEvent(n);return this},size:function(t){var e,n,r=this[0];return"content"==t?(n=r.clientWidth-(v(r,"padding-left")+"").replace("px","")-(v(r,"padding-right")+"").replace("px",""),e=r.clientHeight-(v(r,"padding-top")+"").replace("px","")-(v(r,"padding-bottom")+"").replace("px","")):"padding"==t?(n=r.clientWidth,e=r.clientHeight):"border"==t?(n=r.offsetWidth,e=r.offsetHeight):"scroll"==t?(n=r.scrollWidth,e=r.scrollHeight):(n=r.offsetWidth,e=r.offsetHeight),{width:n,height:e}},mousePosition:function(t){var e=this[0].getBoundingClientRect();if(!t||!t.clientX)throw new Error("Event is necessary!");return{x:t.clientX-e.left,y:t.clientY-e.top}},offsetPosition:function(){var t=0,e=0,n=this[0];for(e=n.offsetTop,t=n.offsetLeft,n=n.offsetParent;n;)e+=n.offsetTop,t+=n.offsetLeft,n=n.offsetParent;return{left:t,top:e}}}),f.extend({stopPropagation:function(t){(t=t||window.event).stopPropagation?t.stopPropagation():t.cancelBubble=!0},preventDefault:function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}}),f.prototype.new=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n(f,e)},"object"===o(t)&&"object"===o(t.exports))t.exports=f;else{var b=window.xhtml;f.noConflict=function(t){return window.xhtml=b,f},window.xhtml=f}}()})),iOn={inserted:function(t,e){var n=e.type.split(".");xhtml_min(t).bind(n[0],(function(){alert("test")}))},delete:function(t,e){console.log(t,e)}};function baseAssignValue(t,e,n){"__proto__"==e?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function assignValue(t,e,n){baseAssignValue(t,e,n)}function baseSet(t,e,n,r){if(!isObject(t))return t;e=castPath(e,t);for(var i=t,o=0;o<e.length;o++){var u=toKey(e[o]),c=n;if(o+1!=e.length){var s=i[u];isObject(s)?c=s:void 0===(c=r?r(s,u,i):void 0)&&(c={})}assignValue(i,u,c),i=i[u]}return t}function set(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:baseSet(t,e,n,r)}var iModel={inserted:function(t,e){t.value=e.value,xhtml_min(t).bind("input",(function(){set(e.target,e.exp,t.value)}))},update:function(t,e){t.value=e.value}},component={},number={};initGlobalAPI(iCrush),iCrush.directive("iBind",iBind),iCrush.directive("iOn",iOn),iCrush.directive("iModel",iModel),iCrush.component("component",component),iCrush.filter("number",number),iCrush.prototype.$$mount=function(){if(isFunction(this._options.render))this.$$render=this._options.render;else{var t=this.template;t&&isString(t)||(t=outHTML(this._el),this._el._nodeName="I-CRUSH-COMPONENT"),this.$$render=createRenderFactroy(t)}this.$$mountComponent()},"object"===("undefined"==typeof module?"undefined":_typeof2(module))&&"object"===_typeof2(module.exports)?module.exports=iCrush:window.iCrush=iCrush}();